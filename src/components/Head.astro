---
type Props = {
  title: string;
};

const { title } = Astro.props;
const titleSuffix = " | Alexander's public";
---

<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Astro description" />
  <meta name="viewport" content="width=device-width" />
  <meta name="generator" content={Astro.generator} />

  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <link rel="stylesheet" href="../../node_modules/@picocss/pico/css/pico.css" />

  <title>{title}{titleSuffix}</title>

  <!-- svgbob style -->
  <style is:global>
    svg {
      margin: 5px;
    }
    svg circle,
    svg polygon,
    svg rect,
    svg path {
      stroke: var(--secondary);
      stroke-width: 2;
      stroke-opacity: 1;
    }

    svg g.node,
    svg g.edge,
    svg g.graph {
      color: var(--color);
      background-color: var(--background-color);
    }
  </style>

  <!-- icons -->
  <style is:global>
    @font-face {
      font-family: "Material Symbols Outlined";
      font-style: normal;
      font-weight: 100 700;
      src: url(https://fonts.gstatic.com/s/materialsymbolsoutlined/v122/kJEhBvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oFsI.woff2)
        format("woff2");
    }
    *[data-icon-gmso]::before {
      content: attr(data-icon-gmso);
      font-family: "Material Symbols Outlined";
      font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 64;
      font-size: 24px;
    }
    *[data-icon-name] > img:first-child {
      height: 24px;
      width: 24px;
    }
    a[data-icon-name], a[data-icon-gmso] {
      aspect-ratio: 1 / 1;
      min-width: 3em;
    }
  </style>

  <slot />
</head>

<script>
  document.querySelectorAll("*[data-icon-name]").forEach((element) => {
    const htmlElement = element as HTMLElement;
    const iconElement = document.createElement("img");
    iconElement.src = `/icons/${htmlElement.dataset.iconName}.svg`;
    htmlElement.prepend(iconElement);
  });
</script>
